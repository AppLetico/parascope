# Prscope Configuration
# Planning-first workflow with upstream PR inputs

# Local repository to profile and compare against upstream PRs
local_repo: ~/workspace/clasper

# Project context (optional - README is used automatically if not provided)
# project:
#   name: My Project
#   description: |
#     Override description here if README is not sufficient.
#     The LLM will use this instead of the README.

# Upstream repositories to monitor
upstream:
  - repo: openclaw/openclaw

# Sync settings (handles repos with 1000s of PRs)
sync:
  state: merged       # Only look at merged PRs
  max_prs: 10          # Max PRs to fetch per sync (set to 3 for testing)
  fetch_files: true   # Needed for path matching
  since: 90d          # Initial window: last 90 days
  incremental: true   # Only fetch new PRs after first sync
  eval_batch_size: 3  # Max PRs to evaluate per run (set to 3 for testing)

# Scoring thresholds
scoring:
  min_rule_score: 0.3
  min_final_score: 0.5
  keyword_weight: 0.4
  path_weight: 0.6

# LLM configuration (RECOMMENDED for high-quality results)
# Without LLM: rule-based only (more noise)
# With LLM: semantic analysis + "already implemented" detection
llm:
  enabled: true      # Set to true and add OPENAI_API_KEY to .env
  model: gpt-4o
  temperature: 0.2
  max_tokens: 3000

# Planning mode (Author + Critic)
# Both models can be any LiteLLM-supported model â€” same provider or different.
# Only set ANTHROPIC_API_KEY if you use a Claude model here.
planning:
  author_model: gpt-4o
  critic_model: gpt-4o-mini        # or claude-3-5-sonnet-20241022, gemini-1.5-pro, etc.
  max_adversarial_rounds: 10
  convergence_threshold: 0.05
  output_dir: ./plans
  require_verified_file_references: false
